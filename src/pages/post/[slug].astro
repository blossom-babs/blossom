---
import type { GetStaticPaths } from "astro";
import Layout from "../../layouts/Layout.astro"

import { getEntryBySlug } from 'astro:content'; 

//const {slug} = Astro.params



export async function getStaticPaths() {
  const postModules = import.meta.glob('../posts/*.md', { eager: true });

  return Object.entries(postModules).map(([path, post]) => {
    const slug = path.replace('../posts/', '').replace('.md', '');

    return {
      params: { slug },
      props: {
        post: {
          ...(post as any),
          slug,
        },
      },
    };
  });
}


const { post } = Astro.props;
const {frontmatter, default:Content} = post
---

<Layout>
<article>
    <Content/>
</article>

</Layout>